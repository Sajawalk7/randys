"use strict";jQuery(function(t){function d(d){u.modal("show"),t.ajax({method:"post",url:l,data:{action:"add_product_to_whishlist",product_id:d,nonce:t("#add_product_to_whishlist_nonce").val()},success:function(a){u.modal("hide"),null!==p&&d===p.post_id?(t("#adding-product-added-to-whishlist").css("display","inline"),t("#adding-product-adding-to-whishlist").css("display","none"),p.favorited="1"):t("a[name='added-product-adding-to-whishlist']").each(function(a){t(this).attr("data-id")===d&&t(this).replaceWith(h)})},error:function(t,d,a){u.modal("hide"),alert("Something went wrong, please try again.")}})}function a(a,i){var n="";n=1===parseInt(a.favorited)?h:"<a name='added-product-adding-to-whishlist' data-id='"+a.post_id+"' style='cursor: pointer'><img src='/wp-content/themes/randysworldwide/dist/images/icon_add_to_whishlist.png'></a>";var e="<div class='col-md-12 row no-margin no-padding'><div class='col-xs-1 text-center'><img src='/wp-content/themes/randysworldwide/dist/images/icon_green_checkmark.png'></div><div class='col-xs-2'><input type='text' readonly value='"+a.ProductNumber+"'></div><div class='col-xs-1'><input type='text' readonly value='"+i+"' class='text-right'></div><div class='col-xs-1 text-right'>$"+a.Price+"</div><div class='col-xs-4'>"+a.Title+"</div><div class='col-xs-2 text-center text-success'>Available</div><div class='col-xs-1 text-center'>"+n+"</div></div>";t("#order-express-added-to-cart").append(e),g.push(a),t("a[name='added-product-adding-to-whishlist']").on("click",function(){d(t(this).attr("data-id"))})}function i(d){d?t("#lookup-spinner").css("display","none"):t("#lookup-spinner").css("display","inline")}function n(d){p=null,d&&t("#adding-product-number").val("");var a=t("#adding-product-quantity");a.attr("readonly",!0),a.val(""),t("#adding-product-price").text(""),t("#adding-product-description").text(""),t("#adding-product-availability").text(""),t("#adding-product-added-to-whishlist").css("display","none"),t("#adding-product-adding-to-whishlist").css("display","none"),t("#button-add-product").css("display","none")}function e(d,a){i(!1),n(!1),t.ajax({method:"post",url:l,data:{action:"product_lookup",query:d,page_size:8,nonce:t("#product_lookup_nonce").val()},success:function(t){i(!0);var d=JSON.parse(t);"error"in d?alert(d.error):a(d)},error:function(d,a,n){i(!0),t("#adding-product-number").val(""),alert("Something went wrong, please try again.")}})}function o(t){return t.ProductNumber}function r(d){var a="Not Available. Call 1-866-631-0196 for Back-Order.";if(d.Qty<=0)return void alert(a);var i=!1;if(g.forEach(function(t){d.ProductNumber===t.ProductNumber&&(i=!0)}),i)return alert("You already added Part Number: "+d.ProductNumber),void t("#adding-product-number").val("");p=d,t("#adding-product-price").text("$"+d.Price),t("#adding-product-description").text(d.Title),1===parseInt(d.favorited)?(t("#adding-product-added-to-whishlist").css("display","inline"),t("#adding-product-adding-to-whishlist").css("display","none")):(t("#adding-product-added-to-whishlist").css("display","none"),t("#adding-product-adding-to-whishlist").css("display","inline")),t("#button-add-product").css("display","inline");var n=t("#adding-product-availability");n.removeClass("text-danger"),n.removeClass("text-success"),n.addClass("text-success"),n.text("Available");var e=t("#adding-product-quantity");e.attr("readonly",!1),e.val("1"),e.focus()}function s(d,i,e){t.ajax({method:"post",url:d,data:{"add-to-cart":i,quantity:e},success:function(t){u.modal("hide"),a(p,e),n(!0)},error:function(t,d,a){u.modal("hide"),alert("Something went wrong, please try again.")}})}function c(){if(null!==p){var d=parseInt(t("#adding-product-quantity").val());if(d<=0)return void t("#adding-product-quantity").val("1");u.modal("show"),t.ajax({method:"post",url:l,data:{action:"add_product_to_cart",product_sku:p.ProductNumber,quantity:d,nonce:t("#add_product_to_cart_nonce").val()},success:function(t){var a=JSON.parse(t);"url"in a&&"id"in a?s(a.url,a.id,d):(u.modal("hide"),"error"in a?alert(a.error):alert("Something went wrong, please try again."))},error:function(t,d,a){u.modal("hide"),alert("Something went wrong, please try again.")}})}}var l=wpAjax.ajax_url,u=null,p=null,g=[],h="<img src='/wp-content/themes/randysworldwide/dist/images/icon_green_checkmark.png'>";t(document).ready(function(){t("#adding-product-number").typeahead({minLength:2,source:e,displayText:o,afterSelect:r}),u=t("#loading-dialog").modal({show:!1}),t("#adding-product-quantity").keypress(function(t){13===t.which&&c()}),t("#adding-product-adding-to-whishlist").on("click",function(){null!==p&&d(p.post_id)}),t("#button-add-product").on("click",function(){(null!==p||parseInt(t("#adding-product-quantity").val())>0)&&c()})})});