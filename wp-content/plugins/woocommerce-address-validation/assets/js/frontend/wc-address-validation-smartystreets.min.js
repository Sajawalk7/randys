(function(){"use strict";jQuery(document).ready(function(a){var b,c,d;return d=function(){var b;return b=wc_address_validation.is_checkout?401:0,setTimeout(function(){return a(window).resize()},b)},b=function(){var b,c,d,e,f;d=[],f=wc_address_validation.addresses;for(c in f)e=f[c],a.isEmptyObject(e)||(b=a.extend({id:c},e),d.push(b));return JSON.parse(JSON.stringify(d))},a("#billing_country option, #shipping_country option").each(function(b,c){if("US"===c.value)return a(c).text("United States")}),c=function(){var c,e,f;e=a.LiveAddress({key:wc_address_validation.smarty_streets_key,debug:wc_address_validation.debug_mode,addresses:b()});for(c in wc_address_validation.addresses)"US"!==a(':input[name="'+c+'_country"]').val()&&e.deactivate(c);return a(document.body).trigger("wc_address_validation_fields_mapped"),f=function(b){return b?(a("a.smarty-addr-shipping").parent("div").show(),e.activate("shipping")):(a("a.smarty-addr-shipping").parent("div").hide(),e.deactivate("shipping")),d()},a("input[name=ship_to_different_address]").change(function(){return f(a(this).is(":checked"))}).change(),a(document).on("change","select.country_select",function(d){var g;return c=d.target.id.replace("_country",""),g=d.target.value,"US"!==g?void e.deactivate(c):setTimeout(function(){return e.mapFields(b()),f(a("input[name=ship_to_different_address]").is(":checked")),a(document.body).trigger("wc_address_validation_fields_mapped")},0)}),e.on("Completed",function(b,c,d){var e,f,g;if("US"===a(':input[name="'+c.address.id()+'_country"]').val()){a(document.body).trigger("update_checkout"),c.response.raw.length>0&&(g={latitude:c.response.raw[0].metadata.latitude,longitude:c.response.raw[0].metadata.longitude,classification:c.response.raw[0].metadata.rdi},a.each(g,function(b,c){return a("<input>").attr({type:"hidden",id:"wc_address_validation_"+b,name:"wc_address_validation_"+b}).val(c).appendTo("form.checkout")})),e=c.address.getDomFields();for(f in e)a(e[f]).blur()}return d(b,c)}),e.on("AddressAccepted",function(b,c,d){var e;return"US"===a(':input[name="'+c.address.id()+'_country"]').val()&&"no"===wc_address_validation.plus_four_code&&(e=c.address.getDomFields().postal_code,e.value=c.response&&c.response.chosen?c.response.chosen.components.zipcode:e.value),d(b,c)})},setTimeout(c,0)})}).call(this);