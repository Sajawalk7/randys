jQuery(document).ready(function(a){"use-strict";var b=window.wc_avatax_frontend;a(document).on("change","form.woocommerce-checkout .country_select",function(){var c;if(a(this).is("#billing_country")){if(a("#ship-to-different-address-checkbox").is(":checked"))return;c=a('.wc_avatax_validate_address[data-address-type="billing"]')}else c=a('.wc_avatax_validate_address[data-address-type="shipping"]');a.inArray(a(this).val(),b.address_validation_countries)>-1?a(c).show():a(c).hide()}),a(document).on("change","form.woocommerce-checkout #ship-to-different-address-checkbox",function(){a(this).is(":checked")?a('.wc_avatax_validate_address[data-address-type="billing"]').hide():a.inArray(a("#billing_country").val(),b.address_validation_countries)>-1&&a('.wc_avatax_validate_address[data-address-type="billing"]').show()}),a("form.woocommerce-checkout .country_select").change(),a("form.woocommerce-checkout #ship-to-different-address-checkbox").change(),a(".wc_avatax_validate_address").on("click",function(c){c.preventDefault();var d,e,f,g,h,i,j,k=a("form.woocommerce-checkout"),l=k.data();1!==l["blockUI.isBlocked"]&&k.block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),d=a(this).data("address-type"),e=a("input#"+d+"_address_1").val(),f=a("input#"+d+"_address_2").val(),g=a("#"+d+"_city").val(),h=a("#"+d+"_state").val(),i=a("#"+d+"_country").val(),j=a("input#"+d+"_postcode").val();var m={action:"wc_avatax_validate_customer_address",nonce:b.address_validation_nonce,type:d,address_1:e,address_2:f,city:g,state:h,country:i,postcode:j};a.ajax({type:"POST",url:b.ajax_url,data:m,dataType:"json",success:function(c){var d=!1;200===c.code?(a.each(c.address,function(b,c){a("#"+b).val(c).trigger("change")}),d='<div class="woocommerce-message">'+b.i18n.address_validated+"</div>"):c.error&&(d='<div class="woocommerce-error">'+c.error+"</div>"),d&&(a(".woocommerce-error, .woocommerce-message").remove(),k.prepend(d),a("html, body").animate({scrollTop:a(k).offset().top-100},1e3)),k.unblock(),a(document.body).trigger("update_checkout")}})})});